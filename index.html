<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Form-validation</title>
    <link rel="stylesheet" href="./assets/css/style.css">
  </head>

  <body>
    <div class="min-vh-100 d-flex flex-column justify-content-center align-items-center">
      <h1 class="py-4 text-black">FORM-VALIDATION</h1>
      <form id="form">
        <div class="py-2 d-flex flex-column">
          <label class="pb-1 text-black fw-bold">NAME</label>
          <input class="min-w-460 border-2 border-black py-2 text-black" id="name" type="text" placeholder="Name" />
          <span class="errorMsg"></span>
        </div>
        <div class="py-2 d-flex flex-column">
          <label class="pb-1 text-black fw-bold">PHONE NO.</label>
          <input class="min-w-460 border-2 border-black py-2" id="number" type="number" placeholder="Number" />
          <span class="errorMsg"></span>
        </div>
         <div class="py-2 d-flex flex-column">
          <label class="pb-1 text-black fw-bold">EMAIL</label>
          <input class="min-w-460 border-2 border-black py-2" id="email" type="email" placeholder="E-mail" />
          <span class="errorMsg"></span>
        </div>
           <div class="py-2 d-flex flex-column">
          <label class="pb-1 text-black fw-bold">PASSWORD</label>
          <input class="min-w-460 border-2 border-black py-2" id="password" type="password" placeholder="Password" />
          <span class="errorMsg"></span>
        </div>
        <button class="bg-black py-2 px-4 text-white rounded-2 mt-4" type="submit">submit</button>
      </form>
    </div>
    <script>
      let form = document.getElementById("form");
      let name = document.getElementById("name");
      let number = document.getElementById("number");
      let email = document.getElementById("email");
      let password = document.getElementById("password");
      let errorMsg = document.querySelectorAll(".errorMsg");

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        let formdata = {
          name: name.value,
          number: number.value,
          email: email.value,
          password:  password.value,
        };

        const nameRegex = /^[a-zA-Z\s]+$/;
        const numberRegex = /^\d{10}$/;
        const emailRegex = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
        const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;

        if (name.value === "") {
          errorMsg[0].textContent = "Name is required";
        } else if (!nameRegex.test(name.value)) {
          errorMsg[0].textContent = "Invalid name";
        } else {
          errorMsg[0].textContent = "";
        }

        if (number.value === "") {
          errorMsg[1].textContent = "Number is required";
        } else if (!numberRegex.test(number.value)) {
          errorMsg[1].textContent = "Invalid number";
        } else {
          errorMsg[1].textContent = "";
        }

        if (email.value === "") {
          errorMsg[2].textContent = "Email is required";
        } else if (!emailRegex.test(email.value)) {
          errorMsg[2].textContent = "Invalid email";
        } else {
          errorMsg[2].textContent = "";
        }
        if (password.value === "") {
          errorMsg[3].textContent = "Password is required";
        } else if (!passwordRegex.test(password.value)) {
            errorMsg[3].textContent = "Invalid password";
        } else {
          errorMsg[3].textContent = "";
        }
        if (
          name.value !== "" &&
          number.value !== "" &&
          email.value !== "" &&
          password.value !== "" &&
          nameRegex.test(name.value) &&
          numberRegex.test(number.value)&&
          emailRegex.test(email.value)&&
          passwordRegex.test(password.value)
        ) {
          console.log(formdata);
          form.reset();
          alert("Form submitted");
        }
      });
    </script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
  </body>
</html>
